
<div ng-if="hasRoleOrPerm(['admin', 'profesor'])" class="row">
  <div class="col-xs-12 col-md-12">
    <div class="widget">
      <div class="widget-header bordered-bottom bordered-themesecondary"><i class="widget-icon fa fa-tags themesecondary"></i><span uib-tooltip="Hay alumnos que piden algunos cambios. Tú podrías aceptar o rechazar esas peticiones." class="widget-caption themesecondary">Pedidos que esperan tu aprobación </span></div>
      <div class="widget-body">
        <div class="widget-main no-padding">
          <div class="tickets-container">
            <ul class="tickets-list">
              <li ng-show="changes_asked.alumnos.length==0">No hay pedidos pendientes</li>
              <li ng-repeat="change_asked in changes_asked.alumnos " class="ticket-item">
                <div class="row">
                  <div ng-click="verDetalles(change_asked)" class="ticket-user ticket-solicitud"><img ng-src="{{perfilPath + change_asked.foto_nombre }}" alt="{{ change_asked.foto_nombre }}" class="user-avatar"><span class="user-name">{{change_asked.nombres + ' ' + change_asked.apellidos }} </span><span class="user-company"> de <b>{{change_asked.grupo_nombre}} </b> ha solicitado unos cambios</span></div>
                </div>
                <div ng-show="change_asked.mostrando" class="row">
                  <div style="padding: 10px; white-space: nowrap; text-overflow: ellipsis;">
                    <table class="table">
                      <!--thead
                      tr
                      	th No
                      	th No
                      	th No
                      -->
                      <!--tbody-->
                      <tr ng-if="change_asked.detalles.image_new_nombre"> 
                        <td>Imagen perfil actual: <img ng-src="{{perfilPath + change_asked.imagen_nombre }}" alt="{{ change_asked.imagen_nombre }}" style="width: 50px" class="user-avatar"></td>
                        <td>
                           
                          Nueva: <img ng-src="{{perfilPath + change_asked.detalles.image_new_nombre }}" alt="{{ change_asked.detalles.image_new_nombre }}" style="width: 50px" class="user-avatar">
                        </td>
                        <td> 
                          <div ng-click="rechazarCambio(change_asked)" class="button-aprobar bg-red"><i style="color: #fff;" class="fa fa-times"></i></div>
                          <div ng-click="aprobarCambio(change_asked)" class="button-aprobar bg-palegreen"><i style="color: #fff;" class="fa fa-check"></i></div>
                        </td>
                      </tr>
                      <tr ng-if="change_asked.detalles.foto_new_nombre"> 
                        <td>Foto oficial actual: <img ng-src="{{perfilPath + change_asked.foto_nombre }}" alt="{{ change_asked.foto_nombre }}" style="width: 50px" class="user-avatar"></td>
                        <td>
                           
                          Nueva: <img ng-src="{{perfilPath + change_asked.detalles.foto_new_nombre }}" alt="{{ change_asked.detalles.foto_new_nombre }}" style="width: 50px" class="user-avatar">
                        </td>
                        <td> 
                          <div ng-click="rechazarCambio(change_asked)" class="button-aprobar bg-red"><i style="color: #fff;" class="fa fa-times"></i></div>
                          <div ng-click="aprobarCambio(change_asked)" class="button-aprobar bg-palegreen"><i style="color: #fff;" class="fa fa-check"></i></div>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>